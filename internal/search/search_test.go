package search

import (
	"testing"

	"github.com/nicholas-boyson/wordsearch/internal/organizations"
	"github.com/nicholas-boyson/wordsearch/internal/tickets"
	"github.com/nicholas-boyson/wordsearch/internal/users"
	"github.com/stretchr/testify/assert"
)

func TestValidSearchTerms(t *testing.T) {
	tests := []struct {
		test   string
		group  string
		ident  string
		result bool
	}{
		{
			test:   "OrganizationValidIdent",
			group:  "Organizations",
			ident:  "_id",
			result: true,
		},
		{
			test:   "OrganizationInvalidIdent",
			group:  "Organizations",
			ident:  "invalid",
			result: false,
		},
		{
			test:   "TicketsValidIdent",
			group:  "Tickets",
			ident:  "_id",
			result: true,
		},
		{
			test:   "TicketsInvalidIdent",
			group:  "Tickets",
			ident:  "invalid",
			result: false,
		},
		{
			test:   "UsersValidIdent",
			group:  "Users",
			ident:  "_id",
			result: true,
		},
		{
			test:   "UsersInvalidIdent",
			group:  "Users",
			ident:  "invalid",
			result: false,
		},
		{
			test:   "UnknownGroup",
			group:  "UnknownGroup",
			ident:  "UnknownGroup",
			result: false,
		},
		{
			test:   "EmptyGroup",
			group:  "",
			ident:  "_id",
			result: false,
		},
		{
			test:   "ValidGroupEmptyIdent",
			group:  "Users",
			ident:  "",
			result: false,
		},
	}

	for _, tt := range tests {
		result := ValidSearchTerms(tt.group, tt.ident)
		assert.Equal(t, tt.result, result)
	}
}

func TestSearch(t *testing.T) {
	tests := []struct {
		test          string
		ident         string
		group         string
		value         string
		organizations []organizations.Organization
		tickets       []tickets.Ticket
		users         []users.User
		result        SearchResult
	}{
		{
			test:  "OrganizationSingleResult",
			ident: "_id",
			group: "Organizations",
			value: "101",
			organizations: []organizations.Organization{
				{
					Id:            101,
					URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
					ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
					Name:          "Enthaze",
					DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
					CreatedAt:     "2016-05-21T11:10:28 -10:00",
					Details:       "MegaCorp",
					SharedTickets: false,
					Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
				},
				{
					Id:            102,
					URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
					ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
					Name:          "Nutralab",
					DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
					CreatedAt:     "2016-04-07T08:21:44 -10:00",
					Details:       "Non profit",
					SharedTickets: false,
					Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
				},
			},
			tickets: []tickets.Ticket{
				{
					Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
					URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
					ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
					CreatedAt:      "2016-04-28T11:19:34 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Korea (North)",
					Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
					Priority:       "high",
					Status:         "pending",
					SubmitterId:    38,
					AssigneeId:     24,
					OrganizationId: 101,
					Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
					HasIncidents:   false,
					DueAt:          "2016-07-31T02:37:50 -10:00",
					Via:            "web",
				},
				{
					Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
					URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
					ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
					CreatedAt:      "2016-04-14T08:32:31 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Micronesia",
					Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
					Priority:       "low",
					Status:         "hold",
					SubmitterId:    71,
					AssigneeId:     38,
					OrganizationId: 112,
					Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
					HasIncidents:   false,
					DueAt:          "2016-08-15T05:37:32 -10:00",
					Via:            "chat",
				},
			},
			users: []users.User{
				{
					Id:             1,
					URL:            "http://initech.zendesk.com/api/v2/users/1.json",
					ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
					Name:           "Francisca Rasmussen",
					Alias:          "Miss Coffey",
					CreatedAt:      "2016-04-15T05:19:46 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "en-AU",
					Timezone:       "Sri Lanka",
					LastLoginAt:    "2013-08-04T01:03:27 -10:00",
					Email:          "coffeyrasmussen@flotonic.com",
					Phone:          "8335-422-718",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
					Suspended:      true,
					Role:           "admin",
				},
				{
					Id:             2,
					URL:            "http://initech.zendesk.com/api/v2/users/2.json",
					ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
					Name:           "Cross Barlow",
					Alias:          "Miss Joni",
					CreatedAt:      "2016-06-23T10:31:39 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "zh-CN",
					Timezone:       "Armenia",
					LastLoginAt:    "2012-04-12T04:03:28 -10:00",
					Email:          "jonibarlow@flotonic.com",
					Phone:          "9575-552-585",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 106,
					Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
					Suspended:      false,
					Role:           "admin",
				},
			},
			result: SearchResult{
				Organizations: []organizations.Organization{
					{
						Id:            101,
						URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
						ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
						Name:          "Enthaze",
						DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
						CreatedAt:     "2016-05-21T11:10:28 -10:00",
						Details:       "MegaCorp",
						SharedTickets: false,
						Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
					},
				},
				Tickets: []tickets.Ticket{
					{
						Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
						URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
						ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
						CreatedAt:      "2016-04-28T11:19:34 -10:00",
						Type:           "incident",
						Subject:        "A Catastrophe in Korea (North)",
						Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
						Priority:       "high",
						Status:         "pending",
						SubmitterId:    38,
						AssigneeId:     24,
						OrganizationId: 101,
						Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
						HasIncidents:   false,
						DueAt:          "2016-07-31T02:37:50 -10:00",
						Via:            "web",
					},
				},
				Users: []users.User{
					{
						Id:             1,
						URL:            "http://initech.zendesk.com/api/v2/users/1.json",
						ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
						Name:           "Francisca Rasmussen",
						Alias:          "Miss Coffey",
						CreatedAt:      "2016-04-15T05:19:46 -10:00",
						Active:         true,
						Verified:       true,
						Shared:         false,
						Locale:         "en-AU",
						Timezone:       "Sri Lanka",
						LastLoginAt:    "2013-08-04T01:03:27 -10:00",
						Email:          "coffeyrasmussen@flotonic.com",
						Phone:          "8335-422-718",
						Signature:      "Don't Worry Be Happy!",
						OrganizationId: 101,
						Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
						Suspended:      true,
						Role:           "admin",
					},
				},
			},
		},
		{
			test:  "OrganizationMultipleResult",
			ident: "shared_tickets",
			group: "Organizations",
			value: "false",
			organizations: []organizations.Organization{
				{
					Id:            101,
					URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
					ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
					Name:          "Enthaze",
					DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
					CreatedAt:     "2016-05-21T11:10:28 -10:00",
					Details:       "MegaCorp",
					SharedTickets: false,
					Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
				},
				{
					Id:            102,
					URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
					ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
					Name:          "Nutralab",
					DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
					CreatedAt:     "2016-04-07T08:21:44 -10:00",
					Details:       "Non profit",
					SharedTickets: false,
					Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
				},
			},
			tickets: []tickets.Ticket{
				{
					Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
					URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
					ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
					CreatedAt:      "2016-04-28T11:19:34 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Korea (North)",
					Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
					Priority:       "high",
					Status:         "pending",
					SubmitterId:    38,
					AssigneeId:     24,
					OrganizationId: 101,
					Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
					HasIncidents:   false,
					DueAt:          "2016-07-31T02:37:50 -10:00",
					Via:            "web",
				},
				{
					Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
					URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
					ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
					CreatedAt:      "2016-04-14T08:32:31 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Micronesia",
					Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
					Priority:       "low",
					Status:         "hold",
					SubmitterId:    71,
					AssigneeId:     38,
					OrganizationId: 112,
					Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
					HasIncidents:   false,
					DueAt:          "2016-08-15T05:37:32 -10:00",
					Via:            "chat",
				},
			},
			users: []users.User{
				{
					Id:             1,
					URL:            "http://initech.zendesk.com/api/v2/users/1.json",
					ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
					Name:           "Francisca Rasmussen",
					Alias:          "Miss Coffey",
					CreatedAt:      "2016-04-15T05:19:46 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "en-AU",
					Timezone:       "Sri Lanka",
					LastLoginAt:    "2013-08-04T01:03:27 -10:00",
					Email:          "coffeyrasmussen@flotonic.com",
					Phone:          "8335-422-718",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
					Suspended:      true,
					Role:           "admin",
				},
				{
					Id:             2,
					URL:            "http://initech.zendesk.com/api/v2/users/2.json",
					ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
					Name:           "Cross Barlow",
					Alias:          "Miss Joni",
					CreatedAt:      "2016-06-23T10:31:39 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "zh-CN",
					Timezone:       "Armenia",
					LastLoginAt:    "2012-04-12T04:03:28 -10:00",
					Email:          "jonibarlow@flotonic.com",
					Phone:          "9575-552-585",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 106,
					Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
					Suspended:      false,
					Role:           "admin",
				},
			},
			result: SearchResult{
				Organizations: []organizations.Organization{
					{
						Id:            101,
						URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
						ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
						Name:          "Enthaze",
						DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
						CreatedAt:     "2016-05-21T11:10:28 -10:00",
						Details:       "MegaCorp",
						SharedTickets: false,
						Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
					},
					{
						Id:            102,
						URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
						ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
						Name:          "Nutralab",
						DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
						CreatedAt:     "2016-04-07T08:21:44 -10:00",
						Details:       "Non profit",
						SharedTickets: false,
						Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
					},
				},
				Tickets: nil,
				Users:   nil,
			},
		},
		{
			test:  "OrganizationSingleResultNoUsersNoTickets",
			ident: "_id",
			group: "Organizations",
			value: "102",
			organizations: []organizations.Organization{
				{
					Id:            101,
					URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
					ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
					Name:          "Enthaze",
					DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
					CreatedAt:     "2016-05-21T11:10:28 -10:00",
					Details:       "MegaCorp",
					SharedTickets: false,
					Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
				},
				{
					Id:            102,
					URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
					ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
					Name:          "Nutralab",
					DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
					CreatedAt:     "2016-04-07T08:21:44 -10:00",
					Details:       "Non profit",
					SharedTickets: false,
					Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
				},
			},
			tickets: []tickets.Ticket{
				{
					Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
					URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
					ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
					CreatedAt:      "2016-04-28T11:19:34 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Korea (North)",
					Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
					Priority:       "high",
					Status:         "pending",
					SubmitterId:    38,
					AssigneeId:     24,
					OrganizationId: 101,
					Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
					HasIncidents:   false,
					DueAt:          "2016-07-31T02:37:50 -10:00",
					Via:            "web",
				},
				{
					Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
					URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
					ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
					CreatedAt:      "2016-04-14T08:32:31 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Micronesia",
					Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
					Priority:       "low",
					Status:         "hold",
					SubmitterId:    71,
					AssigneeId:     38,
					OrganizationId: 112,
					Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
					HasIncidents:   false,
					DueAt:          "2016-08-15T05:37:32 -10:00",
					Via:            "chat",
				},
			},
			users: []users.User{
				{
					Id:             1,
					URL:            "http://initech.zendesk.com/api/v2/users/1.json",
					ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
					Name:           "Francisca Rasmussen",
					Alias:          "Miss Coffey",
					CreatedAt:      "2016-04-15T05:19:46 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "en-AU",
					Timezone:       "Sri Lanka",
					LastLoginAt:    "2013-08-04T01:03:27 -10:00",
					Email:          "coffeyrasmussen@flotonic.com",
					Phone:          "8335-422-718",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
					Suspended:      true,
					Role:           "admin",
				},
				{
					Id:             2,
					URL:            "http://initech.zendesk.com/api/v2/users/2.json",
					ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
					Name:           "Cross Barlow",
					Alias:          "Miss Joni",
					CreatedAt:      "2016-06-23T10:31:39 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "zh-CN",
					Timezone:       "Armenia",
					LastLoginAt:    "2012-04-12T04:03:28 -10:00",
					Email:          "jonibarlow@flotonic.com",
					Phone:          "9575-552-585",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 106,
					Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
					Suspended:      false,
					Role:           "admin",
				},
			},
			result: SearchResult{
				Organizations: []organizations.Organization{
					{
						Id:            102,
						URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
						ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
						Name:          "Nutralab",
						DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
						CreatedAt:     "2016-04-07T08:21:44 -10:00",
						Details:       "Non profit",
						SharedTickets: false,
						Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
					},
				},
				Tickets: nil,
				Users:   nil,
			},
		},
		{
			test:  "OrganizationNoResult",
			ident: "_id",
			group: "Organizations",
			value: "103",
			organizations: []organizations.Organization{
				{
					Id:            101,
					URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
					ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
					Name:          "Enthaze",
					DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
					CreatedAt:     "2016-05-21T11:10:28 -10:00",
					Details:       "MegaCorp",
					SharedTickets: false,
					Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
				},
				{
					Id:            102,
					URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
					ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
					Name:          "Nutralab",
					DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
					CreatedAt:     "2016-04-07T08:21:44 -10:00",
					Details:       "Non profit",
					SharedTickets: false,
					Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
				},
			},
			tickets: []tickets.Ticket{
				{
					Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
					URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
					ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
					CreatedAt:      "2016-04-28T11:19:34 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Korea (North)",
					Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
					Priority:       "high",
					Status:         "pending",
					SubmitterId:    38,
					AssigneeId:     24,
					OrganizationId: 101,
					Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
					HasIncidents:   false,
					DueAt:          "2016-07-31T02:37:50 -10:00",
					Via:            "web",
				},
				{
					Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
					URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
					ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
					CreatedAt:      "2016-04-14T08:32:31 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Micronesia",
					Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
					Priority:       "low",
					Status:         "hold",
					SubmitterId:    71,
					AssigneeId:     38,
					OrganizationId: 112,
					Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
					HasIncidents:   false,
					DueAt:          "2016-08-15T05:37:32 -10:00",
					Via:            "chat",
				},
			},
			users: []users.User{
				{
					Id:             1,
					URL:            "http://initech.zendesk.com/api/v2/users/1.json",
					ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
					Name:           "Francisca Rasmussen",
					Alias:          "Miss Coffey",
					CreatedAt:      "2016-04-15T05:19:46 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "en-AU",
					Timezone:       "Sri Lanka",
					LastLoginAt:    "2013-08-04T01:03:27 -10:00",
					Email:          "coffeyrasmussen@flotonic.com",
					Phone:          "8335-422-718",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
					Suspended:      true,
					Role:           "admin",
				},
				{
					Id:             2,
					URL:            "http://initech.zendesk.com/api/v2/users/2.json",
					ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
					Name:           "Cross Barlow",
					Alias:          "Miss Joni",
					CreatedAt:      "2016-06-23T10:31:39 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "zh-CN",
					Timezone:       "Armenia",
					LastLoginAt:    "2012-04-12T04:03:28 -10:00",
					Email:          "jonibarlow@flotonic.com",
					Phone:          "9575-552-585",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 106,
					Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
					Suspended:      false,
					Role:           "admin",
				},
			},
			result: SearchResult{
				Organizations: nil,
				Tickets:       nil,
				Users:         nil,
			},
		},
		{
			test:  "TicketsSingleResult",
			ident: "_id",
			group: "Tickets",
			value: "436bf9b0-1147-4c0a-8439-6f79833bff5b",
			organizations: []organizations.Organization{
				{
					Id:            101,
					URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
					ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
					Name:          "Enthaze",
					DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
					CreatedAt:     "2016-05-21T11:10:28 -10:00",
					Details:       "MegaCorp",
					SharedTickets: false,
					Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
				},
				{
					Id:            102,
					URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
					ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
					Name:          "Nutralab",
					DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
					CreatedAt:     "2016-04-07T08:21:44 -10:00",
					Details:       "Non profit",
					SharedTickets: false,
					Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
				},
			},
			tickets: []tickets.Ticket{
				{
					Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
					URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
					ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
					CreatedAt:      "2016-04-28T11:19:34 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Korea (North)",
					Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
					Priority:       "high",
					Status:         "pending",
					SubmitterId:    38,
					AssigneeId:     24,
					OrganizationId: 101,
					Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
					HasIncidents:   false,
					DueAt:          "2016-07-31T02:37:50 -10:00",
					Via:            "web",
				},
				{
					Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
					URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
					ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
					CreatedAt:      "2016-04-14T08:32:31 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Micronesia",
					Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
					Priority:       "low",
					Status:         "hold",
					SubmitterId:    71,
					AssigneeId:     38,
					OrganizationId: 112,
					Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
					HasIncidents:   false,
					DueAt:          "2016-08-15T05:37:32 -10:00",
					Via:            "chat",
				},
			},
			users: []users.User{
				{
					Id:             1,
					URL:            "http://initech.zendesk.com/api/v2/users/1.json",
					ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
					Name:           "Francisca Rasmussen",
					Alias:          "Miss Coffey",
					CreatedAt:      "2016-04-15T05:19:46 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "en-AU",
					Timezone:       "Sri Lanka",
					LastLoginAt:    "2013-08-04T01:03:27 -10:00",
					Email:          "coffeyrasmussen@flotonic.com",
					Phone:          "8335-422-718",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
					Suspended:      true,
					Role:           "admin",
				},
				{
					Id:             2,
					URL:            "http://initech.zendesk.com/api/v2/users/2.json",
					ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
					Name:           "Cross Barlow",
					Alias:          "Miss Joni",
					CreatedAt:      "2016-06-23T10:31:39 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "zh-CN",
					Timezone:       "Armenia",
					LastLoginAt:    "2012-04-12T04:03:28 -10:00",
					Email:          "jonibarlow@flotonic.com",
					Phone:          "9575-552-585",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 106,
					Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
					Suspended:      false,
					Role:           "admin",
				},
			},
			result: SearchResult{
				Organizations: []organizations.Organization{
					{
						Id:            101,
						URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
						ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
						Name:          "Enthaze",
						DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
						CreatedAt:     "2016-05-21T11:10:28 -10:00",
						Details:       "MegaCorp",
						SharedTickets: false,
						Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
					},
				},
				Tickets: []tickets.Ticket{
					{
						Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
						URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
						ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
						CreatedAt:      "2016-04-28T11:19:34 -10:00",
						Type:           "incident",
						Subject:        "A Catastrophe in Korea (North)",
						Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
						Priority:       "high",
						Status:         "pending",
						SubmitterId:    38,
						AssigneeId:     24,
						OrganizationId: 101,
						Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
						HasIncidents:   false,
						DueAt:          "2016-07-31T02:37:50 -10:00",
						Via:            "web",
					},
				},
				Users: nil,
			},
		},
		{
			test:  "TicketsMultipleResult",
			ident: "has_incidents",
			group: "Tickets",
			value: "false",
			organizations: []organizations.Organization{
				{
					Id:            101,
					URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
					ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
					Name:          "Enthaze",
					DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
					CreatedAt:     "2016-05-21T11:10:28 -10:00",
					Details:       "MegaCorp",
					SharedTickets: false,
					Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
				},
				{
					Id:            102,
					URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
					ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
					Name:          "Nutralab",
					DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
					CreatedAt:     "2016-04-07T08:21:44 -10:00",
					Details:       "Non profit",
					SharedTickets: false,
					Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
				},
			},
			tickets: []tickets.Ticket{
				{
					Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
					URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
					ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
					CreatedAt:      "2016-04-28T11:19:34 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Korea (North)",
					Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
					Priority:       "high",
					Status:         "pending",
					SubmitterId:    38,
					AssigneeId:     24,
					OrganizationId: 101,
					Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
					HasIncidents:   false,
					DueAt:          "2016-07-31T02:37:50 -10:00",
					Via:            "web",
				},
				{
					Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
					URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
					ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
					CreatedAt:      "2016-04-14T08:32:31 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Micronesia",
					Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
					Priority:       "low",
					Status:         "hold",
					SubmitterId:    71,
					AssigneeId:     38,
					OrganizationId: 112,
					Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
					HasIncidents:   false,
					DueAt:          "2016-08-15T05:37:32 -10:00",
					Via:            "chat",
				},
			},
			users: []users.User{
				{
					Id:             1,
					URL:            "http://initech.zendesk.com/api/v2/users/1.json",
					ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
					Name:           "Francisca Rasmussen",
					Alias:          "Miss Coffey",
					CreatedAt:      "2016-04-15T05:19:46 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "en-AU",
					Timezone:       "Sri Lanka",
					LastLoginAt:    "2013-08-04T01:03:27 -10:00",
					Email:          "coffeyrasmussen@flotonic.com",
					Phone:          "8335-422-718",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
					Suspended:      true,
					Role:           "admin",
				},
				{
					Id:             2,
					URL:            "http://initech.zendesk.com/api/v2/users/2.json",
					ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
					Name:           "Cross Barlow",
					Alias:          "Miss Joni",
					CreatedAt:      "2016-06-23T10:31:39 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "zh-CN",
					Timezone:       "Armenia",
					LastLoginAt:    "2012-04-12T04:03:28 -10:00",
					Email:          "jonibarlow@flotonic.com",
					Phone:          "9575-552-585",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 106,
					Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
					Suspended:      false,
					Role:           "admin",
				},
			},
			result: SearchResult{
				Organizations: nil,
				Tickets: []tickets.Ticket{
					{
						Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
						URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
						ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
						CreatedAt:      "2016-04-28T11:19:34 -10:00",
						Type:           "incident",
						Subject:        "A Catastrophe in Korea (North)",
						Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
						Priority:       "high",
						Status:         "pending",
						SubmitterId:    38,
						AssigneeId:     24,
						OrganizationId: 101,
						Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
						HasIncidents:   false,
						DueAt:          "2016-07-31T02:37:50 -10:00",
						Via:            "web",
					},
					{
						Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
						URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
						ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
						CreatedAt:      "2016-04-14T08:32:31 -10:00",
						Type:           "incident",
						Subject:        "A Catastrophe in Micronesia",
						Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
						Priority:       "low",
						Status:         "hold",
						SubmitterId:    71,
						AssigneeId:     38,
						OrganizationId: 112,
						Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
						HasIncidents:   false,
						DueAt:          "2016-08-15T05:37:32 -10:00",
						Via:            "chat",
					},
				},
				Users: nil,
			},
		},
		{
			test:  "TicketsMultipleResultOrganizationIdSearch",
			ident: "organization_id",
			group: "Tickets",
			value: "101",
			organizations: []organizations.Organization{
				{
					Id:            101,
					URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
					ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
					Name:          "Enthaze",
					DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
					CreatedAt:     "2016-05-21T11:10:28 -10:00",
					Details:       "MegaCorp",
					SharedTickets: false,
					Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
				},
				{
					Id:            102,
					URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
					ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
					Name:          "Nutralab",
					DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
					CreatedAt:     "2016-04-07T08:21:44 -10:00",
					Details:       "Non profit",
					SharedTickets: false,
					Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
				},
			},
			tickets: []tickets.Ticket{
				{
					Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
					URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
					ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
					CreatedAt:      "2016-04-28T11:19:34 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Korea (North)",
					Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
					Priority:       "high",
					Status:         "pending",
					SubmitterId:    38,
					AssigneeId:     24,
					OrganizationId: 101,
					Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
					HasIncidents:   false,
					DueAt:          "2016-07-31T02:37:50 -10:00",
					Via:            "web",
				},
				{
					Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
					URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
					ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
					CreatedAt:      "2016-04-14T08:32:31 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Micronesia",
					Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
					Priority:       "low",
					Status:         "hold",
					SubmitterId:    71,
					AssigneeId:     38,
					OrganizationId: 101,
					Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
					HasIncidents:   false,
					DueAt:          "2016-08-15T05:37:32 -10:00",
					Via:            "chat",
				},
			},
			users: []users.User{
				{
					Id:             1,
					URL:            "http://initech.zendesk.com/api/v2/users/1.json",
					ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
					Name:           "Francisca Rasmussen",
					Alias:          "Miss Coffey",
					CreatedAt:      "2016-04-15T05:19:46 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "en-AU",
					Timezone:       "Sri Lanka",
					LastLoginAt:    "2013-08-04T01:03:27 -10:00",
					Email:          "coffeyrasmussen@flotonic.com",
					Phone:          "8335-422-718",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
					Suspended:      true,
					Role:           "admin",
				},
				{
					Id:             2,
					URL:            "http://initech.zendesk.com/api/v2/users/2.json",
					ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
					Name:           "Cross Barlow",
					Alias:          "Miss Joni",
					CreatedAt:      "2016-06-23T10:31:39 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "zh-CN",
					Timezone:       "Armenia",
					LastLoginAt:    "2012-04-12T04:03:28 -10:00",
					Email:          "jonibarlow@flotonic.com",
					Phone:          "9575-552-585",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 106,
					Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
					Suspended:      false,
					Role:           "admin",
				},
			},
			result: SearchResult{
				Organizations: []organizations.Organization{
					{
						Id:            101,
						URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
						ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
						Name:          "Enthaze",
						DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
						CreatedAt:     "2016-05-21T11:10:28 -10:00",
						Details:       "MegaCorp",
						SharedTickets: false,
						Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
					},
				},
				Tickets: []tickets.Ticket{
					{
						Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
						URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
						ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
						CreatedAt:      "2016-04-28T11:19:34 -10:00",
						Type:           "incident",
						Subject:        "A Catastrophe in Korea (North)",
						Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
						Priority:       "high",
						Status:         "pending",
						SubmitterId:    38,
						AssigneeId:     24,
						OrganizationId: 101,
						Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
						HasIncidents:   false,
						DueAt:          "2016-07-31T02:37:50 -10:00",
						Via:            "web",
					},
					{
						Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
						URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
						ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
						CreatedAt:      "2016-04-14T08:32:31 -10:00",
						Type:           "incident",
						Subject:        "A Catastrophe in Micronesia",
						Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
						Priority:       "low",
						Status:         "hold",
						SubmitterId:    71,
						AssigneeId:     38,
						OrganizationId: 101,
						Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
						HasIncidents:   false,
						DueAt:          "2016-08-15T05:37:32 -10:00",
						Via:            "chat",
					},
				},
				Users: nil,
			},
		},
		{
			test:  "TicketsSingleResultNoOrganization",
			ident: "_id",
			group: "Tickets",
			value: "1a227508-9f39-427c-8f57-1b72f3fab87c",
			organizations: []organizations.Organization{
				{
					Id:            101,
					URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
					ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
					Name:          "Enthaze",
					DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
					CreatedAt:     "2016-05-21T11:10:28 -10:00",
					Details:       "MegaCorp",
					SharedTickets: false,
					Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
				},
				{
					Id:            102,
					URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
					ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
					Name:          "Nutralab",
					DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
					CreatedAt:     "2016-04-07T08:21:44 -10:00",
					Details:       "Non profit",
					SharedTickets: false,
					Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
				},
			},
			tickets: []tickets.Ticket{
				{
					Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
					URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
					ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
					CreatedAt:      "2016-04-28T11:19:34 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Korea (North)",
					Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
					Priority:       "high",
					Status:         "pending",
					SubmitterId:    38,
					AssigneeId:     24,
					OrganizationId: 101,
					Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
					HasIncidents:   false,
					DueAt:          "2016-07-31T02:37:50 -10:00",
					Via:            "web",
				},
				{
					Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
					URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
					ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
					CreatedAt:      "2016-04-14T08:32:31 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Micronesia",
					Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
					Priority:       "low",
					Status:         "hold",
					SubmitterId:    71,
					AssigneeId:     38,
					OrganizationId: 112,
					Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
					HasIncidents:   false,
					DueAt:          "2016-08-15T05:37:32 -10:00",
					Via:            "chat",
				},
			},
			users: []users.User{
				{
					Id:             1,
					URL:            "http://initech.zendesk.com/api/v2/users/1.json",
					ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
					Name:           "Francisca Rasmussen",
					Alias:          "Miss Coffey",
					CreatedAt:      "2016-04-15T05:19:46 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "en-AU",
					Timezone:       "Sri Lanka",
					LastLoginAt:    "2013-08-04T01:03:27 -10:00",
					Email:          "coffeyrasmussen@flotonic.com",
					Phone:          "8335-422-718",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
					Suspended:      true,
					Role:           "admin",
				},
				{
					Id:             2,
					URL:            "http://initech.zendesk.com/api/v2/users/2.json",
					ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
					Name:           "Cross Barlow",
					Alias:          "Miss Joni",
					CreatedAt:      "2016-06-23T10:31:39 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "zh-CN",
					Timezone:       "Armenia",
					LastLoginAt:    "2012-04-12T04:03:28 -10:00",
					Email:          "jonibarlow@flotonic.com",
					Phone:          "9575-552-585",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 106,
					Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
					Suspended:      false,
					Role:           "admin",
				},
			},
			result: SearchResult{
				Organizations: nil,
				Tickets: []tickets.Ticket{
					{
						Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
						URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
						ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
						CreatedAt:      "2016-04-14T08:32:31 -10:00",
						Type:           "incident",
						Subject:        "A Catastrophe in Micronesia",
						Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
						Priority:       "low",
						Status:         "hold",
						SubmitterId:    71,
						AssigneeId:     38,
						OrganizationId: 112,
						Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
						HasIncidents:   false,
						DueAt:          "2016-08-15T05:37:32 -10:00",
						Via:            "chat",
					},
				},
				Users: nil,
			},
		},
		{
			test:  "TicketsNoResult",
			ident: "_id",
			group: "Tickets",
			value: "103",
			organizations: []organizations.Organization{
				{
					Id:            101,
					URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
					ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
					Name:          "Enthaze",
					DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
					CreatedAt:     "2016-05-21T11:10:28 -10:00",
					Details:       "MegaCorp",
					SharedTickets: false,
					Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
				},
				{
					Id:            102,
					URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
					ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
					Name:          "Nutralab",
					DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
					CreatedAt:     "2016-04-07T08:21:44 -10:00",
					Details:       "Non profit",
					SharedTickets: false,
					Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
				},
			},
			tickets: []tickets.Ticket{
				{
					Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
					URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
					ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
					CreatedAt:      "2016-04-28T11:19:34 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Korea (North)",
					Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
					Priority:       "high",
					Status:         "pending",
					SubmitterId:    38,
					AssigneeId:     24,
					OrganizationId: 101,
					Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
					HasIncidents:   false,
					DueAt:          "2016-07-31T02:37:50 -10:00",
					Via:            "web",
				},
				{
					Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
					URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
					ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
					CreatedAt:      "2016-04-14T08:32:31 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Micronesia",
					Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
					Priority:       "low",
					Status:         "hold",
					SubmitterId:    71,
					AssigneeId:     38,
					OrganizationId: 112,
					Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
					HasIncidents:   false,
					DueAt:          "2016-08-15T05:37:32 -10:00",
					Via:            "chat",
				},
			},
			users: []users.User{
				{
					Id:             1,
					URL:            "http://initech.zendesk.com/api/v2/users/1.json",
					ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
					Name:           "Francisca Rasmussen",
					Alias:          "Miss Coffey",
					CreatedAt:      "2016-04-15T05:19:46 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "en-AU",
					Timezone:       "Sri Lanka",
					LastLoginAt:    "2013-08-04T01:03:27 -10:00",
					Email:          "coffeyrasmussen@flotonic.com",
					Phone:          "8335-422-718",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
					Suspended:      true,
					Role:           "admin",
				},
				{
					Id:             2,
					URL:            "http://initech.zendesk.com/api/v2/users/2.json",
					ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
					Name:           "Cross Barlow",
					Alias:          "Miss Joni",
					CreatedAt:      "2016-06-23T10:31:39 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "zh-CN",
					Timezone:       "Armenia",
					LastLoginAt:    "2012-04-12T04:03:28 -10:00",
					Email:          "jonibarlow@flotonic.com",
					Phone:          "9575-552-585",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 106,
					Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
					Suspended:      false,
					Role:           "admin",
				},
			},
			result: SearchResult{
				Organizations: nil,
				Tickets:       nil,
				Users:         nil,
			},
		},
		{
			test:  "UsersSingleResult",
			ident: "_id",
			group: "Users",
			value: "1",
			organizations: []organizations.Organization{
				{
					Id:            101,
					URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
					ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
					Name:          "Enthaze",
					DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
					CreatedAt:     "2016-05-21T11:10:28 -10:00",
					Details:       "MegaCorp",
					SharedTickets: false,
					Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
				},
				{
					Id:            102,
					URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
					ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
					Name:          "Nutralab",
					DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
					CreatedAt:     "2016-04-07T08:21:44 -10:00",
					Details:       "Non profit",
					SharedTickets: false,
					Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
				},
			},
			tickets: []tickets.Ticket{
				{
					Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
					URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
					ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
					CreatedAt:      "2016-04-28T11:19:34 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Korea (North)",
					Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
					Priority:       "high",
					Status:         "pending",
					SubmitterId:    38,
					AssigneeId:     24,
					OrganizationId: 101,
					Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
					HasIncidents:   false,
					DueAt:          "2016-07-31T02:37:50 -10:00",
					Via:            "web",
				},
				{
					Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
					URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
					ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
					CreatedAt:      "2016-04-14T08:32:31 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Micronesia",
					Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
					Priority:       "low",
					Status:         "hold",
					SubmitterId:    71,
					AssigneeId:     38,
					OrganizationId: 112,
					Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
					HasIncidents:   false,
					DueAt:          "2016-08-15T05:37:32 -10:00",
					Via:            "chat",
				},
			},
			users: []users.User{
				{
					Id:             1,
					URL:            "http://initech.zendesk.com/api/v2/users/1.json",
					ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
					Name:           "Francisca Rasmussen",
					Alias:          "Miss Coffey",
					CreatedAt:      "2016-04-15T05:19:46 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "en-AU",
					Timezone:       "Sri Lanka",
					LastLoginAt:    "2013-08-04T01:03:27 -10:00",
					Email:          "coffeyrasmussen@flotonic.com",
					Phone:          "8335-422-718",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
					Suspended:      true,
					Role:           "admin",
				},
				{
					Id:             2,
					URL:            "http://initech.zendesk.com/api/v2/users/2.json",
					ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
					Name:           "Cross Barlow",
					Alias:          "Miss Joni",
					CreatedAt:      "2016-06-23T10:31:39 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "zh-CN",
					Timezone:       "Armenia",
					LastLoginAt:    "2012-04-12T04:03:28 -10:00",
					Email:          "jonibarlow@flotonic.com",
					Phone:          "9575-552-585",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 106,
					Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
					Suspended:      false,
					Role:           "admin",
				},
			},
			result: SearchResult{
				Organizations: []organizations.Organization{
					{
						Id:            101,
						URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
						ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
						Name:          "Enthaze",
						DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
						CreatedAt:     "2016-05-21T11:10:28 -10:00",
						Details:       "MegaCorp",
						SharedTickets: false,
						Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
					},
				},
				Tickets: nil,
				Users: []users.User{
					{
						Id:             1,
						URL:            "http://initech.zendesk.com/api/v2/users/1.json",
						ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
						Name:           "Francisca Rasmussen",
						Alias:          "Miss Coffey",
						CreatedAt:      "2016-04-15T05:19:46 -10:00",
						Active:         true,
						Verified:       true,
						Shared:         false,
						Locale:         "en-AU",
						Timezone:       "Sri Lanka",
						LastLoginAt:    "2013-08-04T01:03:27 -10:00",
						Email:          "coffeyrasmussen@flotonic.com",
						Phone:          "8335-422-718",
						Signature:      "Don't Worry Be Happy!",
						OrganizationId: 101,
						Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
						Suspended:      true,
						Role:           "admin",
					},
				},
			},
		},
		{
			test:  "UsersMultipleResult",
			ident: "active",
			group: "Users",
			value: "true",
			organizations: []organizations.Organization{
				{
					Id:            101,
					URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
					ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
					Name:          "Enthaze",
					DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
					CreatedAt:     "2016-05-21T11:10:28 -10:00",
					Details:       "MegaCorp",
					SharedTickets: false,
					Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
				},
				{
					Id:            102,
					URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
					ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
					Name:          "Nutralab",
					DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
					CreatedAt:     "2016-04-07T08:21:44 -10:00",
					Details:       "Non profit",
					SharedTickets: false,
					Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
				},
			},
			tickets: []tickets.Ticket{
				{
					Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
					URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
					ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
					CreatedAt:      "2016-04-28T11:19:34 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Korea (North)",
					Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
					Priority:       "high",
					Status:         "pending",
					SubmitterId:    38,
					AssigneeId:     24,
					OrganizationId: 101,
					Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
					HasIncidents:   false,
					DueAt:          "2016-07-31T02:37:50 -10:00",
					Via:            "web",
				},
				{
					Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
					URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
					ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
					CreatedAt:      "2016-04-14T08:32:31 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Micronesia",
					Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
					Priority:       "low",
					Status:         "hold",
					SubmitterId:    71,
					AssigneeId:     38,
					OrganizationId: 112,
					Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
					HasIncidents:   false,
					DueAt:          "2016-08-15T05:37:32 -10:00",
					Via:            "chat",
				},
			},
			users: []users.User{
				{
					Id:             1,
					URL:            "http://initech.zendesk.com/api/v2/users/1.json",
					ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
					Name:           "Francisca Rasmussen",
					Alias:          "Miss Coffey",
					CreatedAt:      "2016-04-15T05:19:46 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "en-AU",
					Timezone:       "Sri Lanka",
					LastLoginAt:    "2013-08-04T01:03:27 -10:00",
					Email:          "coffeyrasmussen@flotonic.com",
					Phone:          "8335-422-718",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
					Suspended:      true,
					Role:           "admin",
				},
				{
					Id:             2,
					URL:            "http://initech.zendesk.com/api/v2/users/2.json",
					ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
					Name:           "Cross Barlow",
					Alias:          "Miss Joni",
					CreatedAt:      "2016-06-23T10:31:39 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "zh-CN",
					Timezone:       "Armenia",
					LastLoginAt:    "2012-04-12T04:03:28 -10:00",
					Email:          "jonibarlow@flotonic.com",
					Phone:          "9575-552-585",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 106,
					Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
					Suspended:      false,
					Role:           "admin",
				},
			},
			result: SearchResult{
				Organizations: nil,
				Tickets:       nil,
				Users: []users.User{
					{
						Id:             1,
						URL:            "http://initech.zendesk.com/api/v2/users/1.json",
						ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
						Name:           "Francisca Rasmussen",
						Alias:          "Miss Coffey",
						CreatedAt:      "2016-04-15T05:19:46 -10:00",
						Active:         true,
						Verified:       true,
						Shared:         false,
						Locale:         "en-AU",
						Timezone:       "Sri Lanka",
						LastLoginAt:    "2013-08-04T01:03:27 -10:00",
						Email:          "coffeyrasmussen@flotonic.com",
						Phone:          "8335-422-718",
						Signature:      "Don't Worry Be Happy!",
						OrganizationId: 101,
						Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
						Suspended:      true,
						Role:           "admin",
					},
					{
						Id:             2,
						URL:            "http://initech.zendesk.com/api/v2/users/2.json",
						ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
						Name:           "Cross Barlow",
						Alias:          "Miss Joni",
						CreatedAt:      "2016-06-23T10:31:39 -10:00",
						Active:         true,
						Verified:       true,
						Shared:         false,
						Locale:         "zh-CN",
						Timezone:       "Armenia",
						LastLoginAt:    "2012-04-12T04:03:28 -10:00",
						Email:          "jonibarlow@flotonic.com",
						Phone:          "9575-552-585",
						Signature:      "Don't Worry Be Happy!",
						OrganizationId: 106,
						Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
						Suspended:      false,
						Role:           "admin",
					},
				},
			},
		},
		{
			test:  "UserssMultipleResultOrganizationIdSearch",
			ident: "organization_id",
			group: "Users",
			value: "101",
			organizations: []organizations.Organization{
				{
					Id:            101,
					URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
					ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
					Name:          "Enthaze",
					DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
					CreatedAt:     "2016-05-21T11:10:28 -10:00",
					Details:       "MegaCorp",
					SharedTickets: false,
					Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
				},
				{
					Id:            102,
					URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
					ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
					Name:          "Nutralab",
					DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
					CreatedAt:     "2016-04-07T08:21:44 -10:00",
					Details:       "Non profit",
					SharedTickets: false,
					Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
				},
			},
			tickets: []tickets.Ticket{
				{
					Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
					URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
					ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
					CreatedAt:      "2016-04-28T11:19:34 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Korea (North)",
					Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
					Priority:       "high",
					Status:         "pending",
					SubmitterId:    38,
					AssigneeId:     24,
					OrganizationId: 101,
					Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
					HasIncidents:   false,
					DueAt:          "2016-07-31T02:37:50 -10:00",
					Via:            "web",
				},
				{
					Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
					URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
					ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
					CreatedAt:      "2016-04-14T08:32:31 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Micronesia",
					Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
					Priority:       "low",
					Status:         "hold",
					SubmitterId:    71,
					AssigneeId:     38,
					OrganizationId: 101,
					Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
					HasIncidents:   false,
					DueAt:          "2016-08-15T05:37:32 -10:00",
					Via:            "chat",
				},
			},
			users: []users.User{
				{
					Id:             1,
					URL:            "http://initech.zendesk.com/api/v2/users/1.json",
					ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
					Name:           "Francisca Rasmussen",
					Alias:          "Miss Coffey",
					CreatedAt:      "2016-04-15T05:19:46 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "en-AU",
					Timezone:       "Sri Lanka",
					LastLoginAt:    "2013-08-04T01:03:27 -10:00",
					Email:          "coffeyrasmussen@flotonic.com",
					Phone:          "8335-422-718",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
					Suspended:      true,
					Role:           "admin",
				},
				{
					Id:             2,
					URL:            "http://initech.zendesk.com/api/v2/users/2.json",
					ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
					Name:           "Cross Barlow",
					Alias:          "Miss Joni",
					CreatedAt:      "2016-06-23T10:31:39 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "zh-CN",
					Timezone:       "Armenia",
					LastLoginAt:    "2012-04-12T04:03:28 -10:00",
					Email:          "jonibarlow@flotonic.com",
					Phone:          "9575-552-585",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
					Suspended:      false,
					Role:           "admin",
				},
			},
			result: SearchResult{
				Organizations: []organizations.Organization{
					{
						Id:            101,
						URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
						ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
						Name:          "Enthaze",
						DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
						CreatedAt:     "2016-05-21T11:10:28 -10:00",
						Details:       "MegaCorp",
						SharedTickets: false,
						Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
					},
				},
				Tickets: nil,
				Users: []users.User{
					{
						Id:             1,
						URL:            "http://initech.zendesk.com/api/v2/users/1.json",
						ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
						Name:           "Francisca Rasmussen",
						Alias:          "Miss Coffey",
						CreatedAt:      "2016-04-15T05:19:46 -10:00",
						Active:         true,
						Verified:       true,
						Shared:         false,
						Locale:         "en-AU",
						Timezone:       "Sri Lanka",
						LastLoginAt:    "2013-08-04T01:03:27 -10:00",
						Email:          "coffeyrasmussen@flotonic.com",
						Phone:          "8335-422-718",
						Signature:      "Don't Worry Be Happy!",
						OrganizationId: 101,
						Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
						Suspended:      true,
						Role:           "admin",
					},
					{
						Id:             2,
						URL:            "http://initech.zendesk.com/api/v2/users/2.json",
						ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
						Name:           "Cross Barlow",
						Alias:          "Miss Joni",
						CreatedAt:      "2016-06-23T10:31:39 -10:00",
						Active:         true,
						Verified:       true,
						Shared:         false,
						Locale:         "zh-CN",
						Timezone:       "Armenia",
						LastLoginAt:    "2012-04-12T04:03:28 -10:00",
						Email:          "jonibarlow@flotonic.com",
						Phone:          "9575-552-585",
						Signature:      "Don't Worry Be Happy!",
						OrganizationId: 101,
						Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
						Suspended:      false,
						Role:           "admin",
					},
				},
			},
		},
		{
			test:  "UsersSingleResultNoOrganization",
			ident: "_id",
			group: "Users",
			value: "2",
			organizations: []organizations.Organization{
				{
					Id:            101,
					URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
					ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
					Name:          "Enthaze",
					DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
					CreatedAt:     "2016-05-21T11:10:28 -10:00",
					Details:       "MegaCorp",
					SharedTickets: false,
					Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
				},
				{
					Id:            102,
					URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
					ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
					Name:          "Nutralab",
					DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
					CreatedAt:     "2016-04-07T08:21:44 -10:00",
					Details:       "Non profit",
					SharedTickets: false,
					Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
				},
			},
			tickets: []tickets.Ticket{
				{
					Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
					URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
					ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
					CreatedAt:      "2016-04-28T11:19:34 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Korea (North)",
					Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
					Priority:       "high",
					Status:         "pending",
					SubmitterId:    38,
					AssigneeId:     24,
					OrganizationId: 101,
					Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
					HasIncidents:   false,
					DueAt:          "2016-07-31T02:37:50 -10:00",
					Via:            "web",
				},
				{
					Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
					URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
					ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
					CreatedAt:      "2016-04-14T08:32:31 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Micronesia",
					Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
					Priority:       "low",
					Status:         "hold",
					SubmitterId:    71,
					AssigneeId:     38,
					OrganizationId: 112,
					Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
					HasIncidents:   false,
					DueAt:          "2016-08-15T05:37:32 -10:00",
					Via:            "chat",
				},
			},
			users: []users.User{
				{
					Id:             1,
					URL:            "http://initech.zendesk.com/api/v2/users/1.json",
					ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
					Name:           "Francisca Rasmussen",
					Alias:          "Miss Coffey",
					CreatedAt:      "2016-04-15T05:19:46 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "en-AU",
					Timezone:       "Sri Lanka",
					LastLoginAt:    "2013-08-04T01:03:27 -10:00",
					Email:          "coffeyrasmussen@flotonic.com",
					Phone:          "8335-422-718",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
					Suspended:      true,
					Role:           "admin",
				},
				{
					Id:             2,
					URL:            "http://initech.zendesk.com/api/v2/users/2.json",
					ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
					Name:           "Cross Barlow",
					Alias:          "Miss Joni",
					CreatedAt:      "2016-06-23T10:31:39 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "zh-CN",
					Timezone:       "Armenia",
					LastLoginAt:    "2012-04-12T04:03:28 -10:00",
					Email:          "jonibarlow@flotonic.com",
					Phone:          "9575-552-585",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 106,
					Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
					Suspended:      false,
					Role:           "admin",
				},
			},
			result: SearchResult{
				Organizations: nil,
				Tickets:       nil,
				Users: []users.User{
					{
						Id:             2,
						URL:            "http://initech.zendesk.com/api/v2/users/2.json",
						ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
						Name:           "Cross Barlow",
						Alias:          "Miss Joni",
						CreatedAt:      "2016-06-23T10:31:39 -10:00",
						Active:         true,
						Verified:       true,
						Shared:         false,
						Locale:         "zh-CN",
						Timezone:       "Armenia",
						LastLoginAt:    "2012-04-12T04:03:28 -10:00",
						Email:          "jonibarlow@flotonic.com",
						Phone:          "9575-552-585",
						Signature:      "Don't Worry Be Happy!",
						OrganizationId: 106,
						Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
						Suspended:      false,
						Role:           "admin",
					},
				},
			},
		},
		{
			test:  "UsersNoResult",
			ident: "_id",
			group: "Users",
			value: "103",
			organizations: []organizations.Organization{
				{
					Id:            101,
					URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
					ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
					Name:          "Enthaze",
					DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
					CreatedAt:     "2016-05-21T11:10:28 -10:00",
					Details:       "MegaCorp",
					SharedTickets: false,
					Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
				},
				{
					Id:            102,
					URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
					ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
					Name:          "Nutralab",
					DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
					CreatedAt:     "2016-04-07T08:21:44 -10:00",
					Details:       "Non profit",
					SharedTickets: false,
					Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
				},
			},
			tickets: []tickets.Ticket{
				{
					Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
					URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
					ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
					CreatedAt:      "2016-04-28T11:19:34 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Korea (North)",
					Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
					Priority:       "high",
					Status:         "pending",
					SubmitterId:    38,
					AssigneeId:     24,
					OrganizationId: 101,
					Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
					HasIncidents:   false,
					DueAt:          "2016-07-31T02:37:50 -10:00",
					Via:            "web",
				},
				{
					Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
					URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
					ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
					CreatedAt:      "2016-04-14T08:32:31 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Micronesia",
					Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
					Priority:       "low",
					Status:         "hold",
					SubmitterId:    71,
					AssigneeId:     38,
					OrganizationId: 112,
					Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
					HasIncidents:   false,
					DueAt:          "2016-08-15T05:37:32 -10:00",
					Via:            "chat",
				},
			},
			users: []users.User{
				{
					Id:             1,
					URL:            "http://initech.zendesk.com/api/v2/users/1.json",
					ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
					Name:           "Francisca Rasmussen",
					Alias:          "Miss Coffey",
					CreatedAt:      "2016-04-15T05:19:46 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "en-AU",
					Timezone:       "Sri Lanka",
					LastLoginAt:    "2013-08-04T01:03:27 -10:00",
					Email:          "coffeyrasmussen@flotonic.com",
					Phone:          "8335-422-718",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
					Suspended:      true,
					Role:           "admin",
				},
				{
					Id:             2,
					URL:            "http://initech.zendesk.com/api/v2/users/2.json",
					ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
					Name:           "Cross Barlow",
					Alias:          "Miss Joni",
					CreatedAt:      "2016-06-23T10:31:39 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "zh-CN",
					Timezone:       "Armenia",
					LastLoginAt:    "2012-04-12T04:03:28 -10:00",
					Email:          "jonibarlow@flotonic.com",
					Phone:          "9575-552-585",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 106,
					Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
					Suspended:      false,
					Role:           "admin",
				},
			},
			result: SearchResult{
				Organizations: nil,
				Tickets:       nil,
				Users:         nil,
			},
		},
		{
			test:  "InvalidGroup",
			ident: "_id",
			group: "InvalidGroup",
			value: "103",
			organizations: []organizations.Organization{
				{
					Id:            101,
					URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
					ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
					Name:          "Enthaze",
					DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
					CreatedAt:     "2016-05-21T11:10:28 -10:00",
					Details:       "MegaCorp",
					SharedTickets: false,
					Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
				},
				{
					Id:            102,
					URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
					ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
					Name:          "Nutralab",
					DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
					CreatedAt:     "2016-04-07T08:21:44 -10:00",
					Details:       "Non profit",
					SharedTickets: false,
					Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
				},
			},
			tickets: []tickets.Ticket{
				{
					Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
					URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
					ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
					CreatedAt:      "2016-04-28T11:19:34 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Korea (North)",
					Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
					Priority:       "high",
					Status:         "pending",
					SubmitterId:    38,
					AssigneeId:     24,
					OrganizationId: 101,
					Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
					HasIncidents:   false,
					DueAt:          "2016-07-31T02:37:50 -10:00",
					Via:            "web",
				},
				{
					Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
					URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
					ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
					CreatedAt:      "2016-04-14T08:32:31 -10:00",
					Type:           "incident",
					Subject:        "A Catastrophe in Micronesia",
					Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
					Priority:       "low",
					Status:         "hold",
					SubmitterId:    71,
					AssigneeId:     38,
					OrganizationId: 112,
					Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
					HasIncidents:   false,
					DueAt:          "2016-08-15T05:37:32 -10:00",
					Via:            "chat",
				},
			},
			users: []users.User{
				{
					Id:             1,
					URL:            "http://initech.zendesk.com/api/v2/users/1.json",
					ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
					Name:           "Francisca Rasmussen",
					Alias:          "Miss Coffey",
					CreatedAt:      "2016-04-15T05:19:46 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "en-AU",
					Timezone:       "Sri Lanka",
					LastLoginAt:    "2013-08-04T01:03:27 -10:00",
					Email:          "coffeyrasmussen@flotonic.com",
					Phone:          "8335-422-718",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 101,
					Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
					Suspended:      true,
					Role:           "admin",
				},
				{
					Id:             2,
					URL:            "http://initech.zendesk.com/api/v2/users/2.json",
					ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
					Name:           "Cross Barlow",
					Alias:          "Miss Joni",
					CreatedAt:      "2016-06-23T10:31:39 -10:00",
					Active:         true,
					Verified:       true,
					Shared:         false,
					Locale:         "zh-CN",
					Timezone:       "Armenia",
					LastLoginAt:    "2012-04-12T04:03:28 -10:00",
					Email:          "jonibarlow@flotonic.com",
					Phone:          "9575-552-585",
					Signature:      "Don't Worry Be Happy!",
					OrganizationId: 106,
					Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
					Suspended:      false,
					Role:           "admin",
				},
			},
			result: SearchResult{
				Organizations: nil,
				Tickets:       nil,
				Users:         nil,
			},
		},
	}

	for _, tt := range tests {
		searchInput := Search{
			Group:         tt.group,
			Value:         tt.value,
			Ident:         tt.ident,
			Organizations: tt.organizations,
			Tickets:       tt.tickets,
			Users:         tt.users,
		}
		result := SearchData(searchInput)
		assert.Equal(t, tt.result, result)
	}
}

func TestDisplaySearchResults(t *testing.T) {
	tests := []struct {
		test  string
		group string
		input SearchResult
	}{
		{
			test:  "Organizations",
			group: "Organizations",
			input: SearchResult{
				Organizations: []organizations.Organization{
					{
						Id:            101,
						URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
						ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
						Name:          "Enthaze",
						DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
						CreatedAt:     "2016-05-21T11:10:28 -10:00",
						Details:       "MegaCorp",
						SharedTickets: false,
						Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
					},
				},
				Tickets: []tickets.Ticket{
					{
						Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
						URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
						ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
						CreatedAt:      "2016-04-28T11:19:34 -10:00",
						Type:           "incident",
						Subject:        "A Catastrophe in Korea (North)",
						Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
						Priority:       "high",
						Status:         "pending",
						SubmitterId:    38,
						AssigneeId:     24,
						OrganizationId: 101,
						Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
						HasIncidents:   false,
						DueAt:          "2016-07-31T02:37:50 -10:00",
						Via:            "web",
					},
				},
				Users: []users.User{
					{
						Id:             1,
						URL:            "http://initech.zendesk.com/api/v2/users/1.json",
						ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
						Name:           "Francisca Rasmussen",
						Alias:          "Miss Coffey",
						CreatedAt:      "2016-04-15T05:19:46 -10:00",
						Active:         true,
						Verified:       true,
						Shared:         false,
						Locale:         "en-AU",
						Timezone:       "Sri Lanka",
						LastLoginAt:    "2013-08-04T01:03:27 -10:00",
						Email:          "coffeyrasmussen@flotonic.com",
						Phone:          "8335-422-718",
						Signature:      "Don't Worry Be Happy!",
						OrganizationId: 101,
						Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
						Suspended:      true,
						Role:           "admin",
					},
				},
			},
		},
		{
			test:  "OrganizationMultipleResults",
			group: "Organizations",
			input: SearchResult{
				Organizations: []organizations.Organization{
					{
						Id:            101,
						URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
						ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
						Name:          "Enthaze",
						DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
						CreatedAt:     "2016-05-21T11:10:28 -10:00",
						Details:       "MegaCorp",
						SharedTickets: false,
						Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
					},
					{
						Id:            102,
						URL:           "http://initech.zendesk.com/api/v2/organizations/102.json",
						ExternalId:    "7cd6b8d4-2999-4ff2-8cfd-44d05b449226",
						Name:          "Nutralab",
						DomainNames:   []string{"trollery.com", "datagen.com", "bluegrain.com", "dadabase.com"},
						CreatedAt:     "2016-04-07T08:21:44 -10:00",
						Details:       "Non profit",
						SharedTickets: false,
						Tags:          []string{"Cherry", "Collier", "Fuentes", "Trevino"},
					},
				},
				Tickets: nil,
				Users:   nil,
			},
		},
		{
			test:  "TicketsSingleResult",
			group: "Tickets",
			input: SearchResult{
				Organizations: []organizations.Organization{
					{
						Id:            101,
						URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
						ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
						Name:          "Enthaze",
						DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
						CreatedAt:     "2016-05-21T11:10:28 -10:00",
						Details:       "MegaCorp",
						SharedTickets: false,
						Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
					},
				},
				Tickets: []tickets.Ticket{
					{
						Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
						URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
						ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
						CreatedAt:      "2016-04-28T11:19:34 -10:00",
						Type:           "incident",
						Subject:        "A Catastrophe in Korea (North)",
						Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
						Priority:       "high",
						Status:         "pending",
						SubmitterId:    38,
						AssigneeId:     24,
						OrganizationId: 101,
						Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
						HasIncidents:   false,
						DueAt:          "2016-07-31T02:37:50 -10:00",
						Via:            "web",
					},
				},
				Users: nil,
			},
		},
		{
			test:  "TicketsMultipleResults",
			group: "Tickets",
			input: SearchResult{
				Organizations: nil,
				Tickets: []tickets.Ticket{
					{
						Id:             "436bf9b0-1147-4c0a-8439-6f79833bff5b",
						URL:            "http://initech.zendesk.com/api/v2/tickets/436bf9b0-1147-4c0a-8439-6f79833bff5b.json",
						ExternalId:     "9210cdc9-4bee-485f-a078-35396cd74063",
						CreatedAt:      "2016-04-28T11:19:34 -10:00",
						Type:           "incident",
						Subject:        "A Catastrophe in Korea (North)",
						Description:    "Nostrud ad sit velit cupidatat laboris ipsum nisi amet laboris ex exercitation amet et proident. Ipsum fugiat aute dolore tempor nostrud velit ipsum.",
						Priority:       "high",
						Status:         "pending",
						SubmitterId:    38,
						AssigneeId:     24,
						OrganizationId: 101,
						Tags:           []string{"Ohio", "Pennsylvania", "American Samoa", "Northern Mariana Islands"},
						HasIncidents:   false,
						DueAt:          "2016-07-31T02:37:50 -10:00",
						Via:            "web",
					},
					{
						Id:             "1a227508-9f39-427c-8f57-1b72f3fab87c",
						URL:            "http://initech.zendesk.com/api/v2/tickets/1a227508-9f39-427c-8f57-1b72f3fab87c.json",
						ExternalId:     "3e5ca820-cd1f-4a02-a18f-11b18e7bb49a",
						CreatedAt:      "2016-04-14T08:32:31 -10:00",
						Type:           "incident",
						Subject:        "A Catastrophe in Micronesia",
						Description:    "Aliquip excepteur fugiat ex minim ea aute eu labore. Sunt eiusmod esse eu non commodo est veniam consequat.",
						Priority:       "low",
						Status:         "hold",
						SubmitterId:    71,
						AssigneeId:     38,
						OrganizationId: 112,
						Tags:           []string{"Puerto Rico", "Idaho", "Oklahoma", "Louisiana"},
						HasIncidents:   false,
						DueAt:          "2016-08-15T05:37:32 -10:00",
						Via:            "chat",
					},
				},
				Users: nil,
			},
		},
		{
			test:  "UsersSingleResult",
			group: "Users",
			input: SearchResult{
				Organizations: nil,
				Tickets:       nil,
				Users: []users.User{
					{
						Id:             2,
						URL:            "http://initech.zendesk.com/api/v2/users/2.json",
						ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
						Name:           "Cross Barlow",
						Alias:          "Miss Joni",
						CreatedAt:      "2016-06-23T10:31:39 -10:00",
						Active:         true,
						Verified:       true,
						Shared:         false,
						Locale:         "zh-CN",
						Timezone:       "Armenia",
						LastLoginAt:    "2012-04-12T04:03:28 -10:00",
						Email:          "jonibarlow@flotonic.com",
						Phone:          "9575-552-585",
						Signature:      "Don't Worry Be Happy!",
						OrganizationId: 106,
						Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
						Suspended:      false,
						Role:           "admin",
					},
				},
			},
		},
		{
			test:  "UsersMultipleResults",
			group: "Users",
			input: SearchResult{
				Organizations: []organizations.Organization{
					{
						Id:            101,
						URL:           "http://initech.zendesk.com/api/v2/organizations/101.json",
						ExternalId:    "9270ed79-35eb-4a38-a46f-35725197ea8d",
						Name:          "Enthaze",
						DomainNames:   []string{"kage.com", "ecratic.com", "endipin.com", "zentix.com"},
						CreatedAt:     "2016-05-21T11:10:28 -10:00",
						Details:       "MegaCorp",
						SharedTickets: false,
						Tags:          []string{"Fulton", "West", "Rodriguez", "Farley"},
					},
				},
				Tickets: nil,
				Users: []users.User{
					{
						Id:             1,
						URL:            "http://initech.zendesk.com/api/v2/users/1.json",
						ExternalId:     "74341f74-9c79-49d5-9611-87ef9b6eb75f",
						Name:           "Francisca Rasmussen",
						Alias:          "Miss Coffey",
						CreatedAt:      "2016-04-15T05:19:46 -10:00",
						Active:         true,
						Verified:       true,
						Shared:         false,
						Locale:         "en-AU",
						Timezone:       "Sri Lanka",
						LastLoginAt:    "2013-08-04T01:03:27 -10:00",
						Email:          "coffeyrasmussen@flotonic.com",
						Phone:          "8335-422-718",
						Signature:      "Don't Worry Be Happy!",
						OrganizationId: 101,
						Tags:           []string{"Springville", "Sutton", "Hartsville/Hartley", "Diaperville"},
						Suspended:      true,
						Role:           "admin",
					},
					{
						Id:             2,
						URL:            "http://initech.zendesk.com/api/v2/users/2.json",
						ExternalId:     "c9995ea4-ff72-46e0-ab77-dfe0ae1ef6c2",
						Name:           "Cross Barlow",
						Alias:          "Miss Joni",
						CreatedAt:      "2016-06-23T10:31:39 -10:00",
						Active:         true,
						Verified:       true,
						Shared:         false,
						Locale:         "zh-CN",
						Timezone:       "Armenia",
						LastLoginAt:    "2012-04-12T04:03:28 -10:00",
						Email:          "jonibarlow@flotonic.com",
						Phone:          "9575-552-585",
						Signature:      "Don't Worry Be Happy!",
						OrganizationId: 101,
						Tags:           []string{"Foxworth", "Woodlands", "Herlong", "Henrietta"},
						Suspended:      false,
						Role:           "admin",
					},
				},
			},
		},
		{
			test:  "InvalidGroup",
			group: "test",
			input: SearchResult{},
		},
		{
			test:  "EmptyResult",
			group: "Users",
			input: SearchResult{},
		},
	}

	for _, tt := range tests {
		SearchResultDisplay(tt.group, tt.input)
	}
}

func BenchmarkOrganizationsSearch(b *testing.B) {
	orgs, err := organizations.LoadOrganizations("../source_data/organizations.json")
	assert.Nil(b, err)
	tickets, err := tickets.LoadTickets("../source_data/tickets.json")
	assert.Nil(b, err)
	users, err := users.LoadUsers("../source_data/users.json")
	assert.Nil(b, err)
	searchRequest := Search{
		Group:         "Organizations",
		Value:         "125",
		Ident:         "_id",
		Organizations: orgs,
		Tickets:       tickets,
		Users:         users,
	}

	for i := 0; i < b.N; i++ {
		_ = SearchData(searchRequest)
	}
}

func BenchmarkTicketsSearch(b *testing.B) {
	orgs, err := organizations.LoadOrganizations("../source_data/organizations.json")
	assert.Nil(b, err)
	tickets, err := tickets.LoadTickets("../source_data/tickets.json")
	assert.Nil(b, err)
	users, err := users.LoadUsers("../source_data/users.json")
	assert.Nil(b, err)
	searchRequest := Search{
		Group:         "Tickets",
		Value:         "125",
		Ident:         "organization_id",
		Organizations: orgs,
		Tickets:       tickets,
		Users:         users,
	}

	for i := 0; i < b.N; i++ {
		_ = SearchData(searchRequest)
	}
}

func BenchmarkUsersSearch(b *testing.B) {
	orgs, err := organizations.LoadOrganizations("../source_data/organizations.json")
	assert.Nil(b, err)
	tickets, err := tickets.LoadTickets("../source_data/tickets.json")
	assert.Nil(b, err)
	users, err := users.LoadUsers("../source_data/users.json")
	assert.Nil(b, err)
	searchRequest := Search{
		Group:         "Users",
		Value:         "125",
		Ident:         "organization_id",
		Organizations: orgs,
		Tickets:       tickets,
		Users:         users,
	}

	for i := 0; i < b.N; i++ {
		_ = SearchData(searchRequest)
	}
}
